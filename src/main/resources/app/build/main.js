webpackJsonp([1],{170:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e(2),u=e(1),i=e(44),o=e(89),a=function(){return function(){}}();a=Object(t.__decorate)([Object(u.v)({declarations:[o.a],imports:[i.e.forChild(o.a)]})],a)},182:function(n,l){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=182},211:function(n,l,e){function t(n){var l=u[n];return l?e.e(l[1]).then(function(){return e(l[0])}):Promise.reject(new Error("Cannot find module '"+n+"'."))}var u={"../pages/myevents/myevents.module.ngfactory":[546,0]};t.keys=function(){return Object.keys(u)},t.id=211,n.exports=t},212:function(n,l,e){"use strict";l.a=function(n){return void 0===n&&(n=!1),function(n,l){void 0===l&&(l=!1);var e=("0"+n.getDate()).slice(-2)+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+n.getFullYear()+" "+("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2);return l?e+":"+("0"+n.getSeconds()).slice(-2):e}(new Date,n)}},265:function(n,l,e){"use strict";e.d(l,"a",function(){return q});var t=e(1),u=e(65),i=e(3),o=e(59),a=e(17),s=e(15),c=e(37),r=e(46),_=e(14),d=e(235),b=e(76),g=e(47),p=e(6),f=e(73),h=e(11),m=e(10),k=e(236),v=e(83),y=e(38),w=e(18),O=e(75),S=e(33),C=e(20),j=e(60),I=e(7),F=e(121),x=e(35),M=e(12),T=e(26),P=e(84),E=e(54),L=e(39),U=e(85),z=e(27),A=e(32),N=e(89),D=e(16),$=e(63),R=e(30),W=t._4({encapsulation:2,styles:[],data:{}}),q=t._2("page-myevents",N.a,function(n){return t._29(0,[(n()(),t._7(0,null,null,1,"page-myevents",[],null,null,null,function(n){return t._29(0,[(n()(),t._27(null,["\n"])),(n()(),t._7(0,null,null,10,"ion-header",[],null,null,null,null,null)),t._5(16384,null,0,j.a,[i.a,t.k,t.F,[2,I.a]],null,null),(n()(),t._27(null,["\n\n  "])),(n()(),t._7(0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,F.b,F.a)),t._5(49152,null,0,x.a,[M.a,[2,I.a],[2,T.a],i.a,t.k,t.F],null,null),(n()(),t._27(3,["\n    "])),(n()(),t._7(0,null,3,2,"ion-title",[],null,null,null,P.b,P.a)),t._5(49152,null,0,E.a,[i.a,t.k,t.F,[2,L.a],[2,x.a]],null,null),(n()(),t._27(0,["My Events"])),(n()(),t._27(3,["\n  "])),(n()(),t._27(null,["\n\n"])),(n()(),t._27(null,["\n\n\n"])),(n()(),t._7(0,null,null,9,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(n,l,e){var u=!0;return"window:resize"===l&&(u=!1!==t._21(n,14).resize()&&u),u},U.b,U.a)),t._5(4374528,null,0,z.a,[i.a,p.a,m.a,t.k,t.F,M.a,A.a,t.y,[2,I.a],[2,T.a]],null,null),(n()(),t._27(1,["\n  "])),(n()(),t._7(0,null,1,5,"ion-list",[],null,null,null,null,null)),t._5(16384,null,0,g.a,[i.a,t.k,t.F,p.a,h.l,m.a],null,null),(n()(),t._27(null,["\n    "])),(n()(),t._1(16777216,null,null,1,null,function(n){return t._29(0,[(n()(),t._7(0,null,null,79,"ion-item-sliding",[["text-wrap",""]],null,null,null,d.b,d.a)),t._5(49152,[["slidingItem",4]],2,b.a,[[2,g.a],p.a,t.F,t.k,t.y],null,null),t._25(603979776,1,{item:0}),t._25(603979776,2,{_itemOptions:1}),(n()(),t._27(null,["\n      "])),(n()(),t._7(0,null,0,53,"ion-item",[["class","item item-block"],["detail-push",""]],null,null,null,o.b,o.a)),t._5(1097728,[[1,4]],3,a.a,[s.a,i.a,t.k,t.F,[2,c.a]],null,null),t._25(335544320,3,{contentLabel:0}),t._25(603979776,4,{_buttons:1}),t._25(603979776,5,{_icons:1}),t._5(16384,null,0,r.a,[],null,null),(n()(),t._27(2,["\n        "])),(n()(),t._7(0,null,0,4,"ion-avatar",[["class","icon-block"],["item-start",""]],null,null,null,null,null)),t._5(16384,null,0,f.a,[],null,null),(n()(),t._27(null,["\n          "])),(n()(),t._7(0,null,null,0,"img",[["src","assets/imgs/ticket-icon.png"]],null,null,null,null,null)),(n()(),t._27(null,["\n        "])),(n()(),t._27(2,["\n        "])),(n()(),t._7(0,null,2,39,"ion-list",[["inline",""]],null,null,null,null,null)),t._5(16384,null,0,g.a,[i.a,t.k,t.F,p.a,h.l,m.a],null,null),(n()(),t._27(null,["\n          "])),(n()(),t._7(0,null,null,8,"ion-item",[["class","item item-block"]],null,null,null,o.b,o.a)),t._5(1097728,[[1,4]],3,a.a,[s.a,i.a,t.k,t.F,[2,c.a]],null,null),t._25(335544320,6,{contentLabel:0}),t._25(603979776,7,{_buttons:1}),t._25(603979776,8,{_icons:1}),t._5(16384,null,0,r.a,[],null,null),(n()(),t._7(0,null,2,1,"h1",[],null,null,null,null,null)),(n()(),t._27(null,["",""])),(n()(),t._27(2,[" at ",""])),(n()(),t._27(null,["\n          "])),(n()(),t._7(0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,o.b,o.a)),t._5(1097728,[[1,4]],3,a.a,[s.a,i.a,t.k,t.F,[2,c.a]],null,null),t._25(335544320,9,{contentLabel:0}),t._25(603979776,10,{_buttons:1}),t._25(603979776,11,{_icons:1}),t._5(16384,null,0,r.a,[],null,null),(n()(),t._27(2,["How many to invite for the next round?"])),(n()(),t._7(0,null,4,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),t._5(16384,null,0,u.a,[i.a,t.k,t.F],null,null),(n()(),t._27(null,["",""])),(n()(),t._27(null,["\n          "])),(n()(),t._7(0,null,null,11,"ion-item",[["class","item item-block"]],null,null,null,o.b,o.a)),t._5(1097728,[[1,4]],3,a.a,[s.a,i.a,t.k,t.F,[2,c.a]],null,null),t._25(335544320,12,{contentLabel:0}),t._25(603979776,13,{_buttons:1}),t._25(603979776,14,{_icons:1}),t._5(16384,null,0,r.a,[],null,null),(n()(),t._7(0,null,3,5,"ion-range",[["color","secondary"],["max","10"],["min","1"],["snaps","true"],["step","1"]],[[2,"range-disabled",null],[2,"range-pressed",null],[2,"range-has-pin",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0;return"ngModelChange"===l&&(t=!1!==(n.context.$implicit.event.groupsize=e)&&t),t},k.b,k.a)),t._5(1228800,[["count",4]],0,v.a,[s.a,y.a,[2,a.a],i.a,p.a,t.k,t.F,m.a,t.g],{color:[0,"color"],min:[1,"min"],max:[2,"max"],step:[3,"step"],snaps:[4,"snaps"]},null),t._24(1024,null,w.e,function(n){return[n]},[v.a]),t._5(671744,null,0,w.h,[[8,null],[8,null],[8,null],[2,w.e]],{model:[0,"model"]},{update:"ngModelChange"}),t._24(2048,null,w.f,null,[w.h]),t._5(16384,null,0,w.g,[w.f],null,null),(n()(),t._27(null,["\n          "])),(n()(),t._1(16777216,null,null,1,null,function(n){return t._29(0,[(n()(),t._7(0,null,null,21,"ion-item",[["class","item item-block"]],null,null,null,o.b,o.a)),t._5(1097728,[[1,4]],3,a.a,[s.a,i.a,t.k,t.F,[2,c.a]],null,null),t._25(335544320,15,{contentLabel:0}),t._25(603979776,16,{_buttons:1}),t._25(603979776,17,{_icons:1}),t._5(16384,null,0,r.a,[],null,null),(n()(),t._27(2,["\n            "," for ","\n            "])),(n()(),t._1(16777216,null,4,1,null,function(n){return t._29(0,[(n()(),t._7(0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),t._5(16384,null,0,u.a,[i.a,t.k,t.F],null,null),(n()(),t._27(null,["",""]))],null,function(n,l){n(l,2,0,l.parent.context.$implicit.state)})})),t._5(16384,null,0,_.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t._27(2,["\n            "])),(n()(),t._1(16777216,null,4,1,null,function(n){return t._29(0,[(n()(),t._7(0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),t._5(16384,null,0,u.a,[i.a,t.k,t.F],null,null),(n()(),t._27(null,["",""]))],null,function(n,l){n(l,2,0,l.parent.context.$implicit.state)})})),t._5(16384,null,0,_.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t._27(2,["\n            "])),(n()(),t._1(16777216,null,4,1,null,function(n){return t._29(0,[(n()(),t._7(0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),t._5(16384,null,0,u.a,[i.a,t.k,t.F],null,null),(n()(),t._27(null,["",""]))],null,function(n,l){n(l,2,0,l.parent.context.$implicit.state)})})),t._5(16384,null,0,_.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t._27(2,["\n            "])),(n()(),t._1(16777216,null,4,1,null,function(n){return t._29(0,[(n()(),t._7(0,null,null,2,"ion-badge",[["color","secondary"],["item-end",""]],null,null,null,null,null)),t._5(16384,null,0,u.a,[i.a,t.k,t.F],{color:[0,"color"]},null),(n()(),t._27(null,["",""]))],function(n,l){n(l,1,0,"secondary")},function(n,l){n(l,2,0,l.parent.context.$implicit.state)})})),t._5(16384,null,0,_.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t._27(2,["\n            "])),(n()(),t._1(16777216,null,4,1,null,function(n){return t._29(0,[(n()(),t._7(0,null,null,3,"ion-badge",[["color","secondary"],["item-end",""]],null,null,null,null,null)),t._5(16384,null,0,u.a,[i.a,t.k,t.F],{color:[0,"color"]},null),(n()(),t._7(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),t._27(null,["",""]))],function(n,l){n(l,1,0,"secondary")},function(n,l){n(l,3,0,l.parent.context.$implicit.state)})})),t._5(16384,null,0,_.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t._27(2,["\n          "]))],function(n,l){n(l,8,0,"Issued"===l.context.$implicit.state),n(l,11,0,"Called"===l.context.$implicit.state),n(l,14,0,"Skipped"===l.context.$implicit.state),n(l,17,0,"Accepted"===l.context.$implicit.state),n(l,20,0,"Confirmed"===l.context.$implicit.state)},function(n,l){n(l,6,0,l.context.$implicit.participants,l.component.getUserName(l.context.$implicit.userid))})})),t._5(802816,null,0,_.i,[t.P,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t._27(null,["\n        "])),(n()(),t._27(2,["\n      "])),(n()(),t._27(null,["\n      "])),(n()(),t._7(0,null,1,18,"ion-item-options",[["side","left"]],null,null,null,null,null)),t._5(16384,[[2,4]],0,O.a,[t.k,p.a],{side:[0,"side"]},null),(n()(),t._27(null,["\n        "])),(n()(),t._7(0,null,null,2,"button",[["class","ion-minus-circled"],["color","secondary"],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.invite(n.context.$implicit)&&t),t},S.b,S.a)),t._5(1097728,null,0,C.a,[[8,""],i.a,t.k,t.F],{color:[0,"color"]},null),(n()(),t._27(0,["Invite"])),(n()(),t._27(null,["\n        "])),(n()(),t._7(0,null,null,2,"button",[["class","ion-minus-circled"],["color","default"],["ion-button",""]],null,null,null,S.b,S.a)),t._5(1097728,null,0,C.a,[[8,""],i.a,t.k,t.F],{color:[0,"color"]},null),(n()(),t._27(0,["Open"])),(n()(),t._27(null,["\n        "])),(n()(),t._7(0,null,null,2,"button",[["class","ion-minus-circled"],["color","dark"],["ion-button",""]],null,null,null,S.b,S.a)),t._5(1097728,null,0,C.a,[[8,""],i.a,t.k,t.F],{color:[0,"color"]},null),(n()(),t._27(0,["Close"])),(n()(),t._27(null,["\n        "])),(n()(),t._7(0,null,null,2,"button",[["class","ion-minus-circled"],["color","danger"],["ion-button",""]],null,null,null,S.b,S.a)),t._5(1097728,null,0,C.a,[[8,""],i.a,t.k,t.F],{color:[0,"color"]},null),(n()(),t._27(0,["Delete"])),(n()(),t._27(null,["\n      "])),(n()(),t._27(null,["\n    "]))],function(n,l){n(l,49,0,"secondary","1","10","1","true"),n(l,51,0,l.context.$implicit.event.groupsize),n(l,56,0,l.context.$implicit.invites),n(l,61,0,"left"),n(l,64,0,"secondary"),n(l,68,0,"default"),n(l,72,0,"dark"),n(l,76,0,"danger")},function(n,l){n(l,28,0,l.context.$implicit.event.eventTitle),n(l,29,0,l.context.$implicit.event.date),n(l,40,0,l.context.$implicit.event.groupsize),n(l,48,0,t._21(l,49)._disabled,t._21(l,49)._pressed,t._21(l,49)._pin,t._21(l,53).ngClassUntouched,t._21(l,53).ngClassTouched,t._21(l,53).ngClassPristine,t._21(l,53).ngClassDirty,t._21(l,53).ngClassValid,t._21(l,53).ngClassInvalid,t._21(l,53).ngClassPending)})})),t._5(802816,null,0,_.i,[t.P,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t._27(null,["\n  "])),(n()(),t._27(1,["\n"]))],function(n,l){n(l,20,0,l.component.myevents)},function(n,l){n(l,4,0,t._21(l,5)._hidden,t._21(l,5)._sbPadding),n(l,13,0,t._21(l,14).statusbarPadding,t._21(l,14)._hasRefresher)})},W)),t._5(114688,null,0,N.a,[T.a,D.a,$.c,R.b],null,null)],function(n,l){n(l,1,0)},null)},{},{},[])},266:function(n,l,e){"use strict";function t(n){return i._29(0,[(n()(),i._7(0,null,null,85,"ion-item-sliding",[["text-wrap",""]],null,null,null,Xn.b,Xn.a)),i._5(49152,[["slidingItem",4]],2,Zn.a,[[2,Nn.a],On.a,i.F,i.k,i.y],null,null),i._25(335544320,1,{item:0}),i._25(603979776,2,{_itemOptions:1}),(n()(),i._27(null,["\n  "])),(n()(),i._7(0,null,0,66,"ion-item",[["class","top-aligned item item-block"]],null,null,null,dn.b,dn.a)),i._5(1097728,[[1,4]],3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,3,{contentLabel:0}),i._25(603979776,4,{_buttons:1}),i._25(603979776,5,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),(n()(),i._27(2,["\n    "])),(n()(),i._1(16777216,null,0,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,5,"ion-avatar",[["class","icon-block subscribed"],["item-start",""]],null,null,null,null,null)),i._5(16384,null,0,Qn.a,[],null,null),(n()(),i._27(null,["\n      "])),(n()(),i._7(0,null,null,1,"ion-icon",[["name","checkmark-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(null,["\n    "]))],function(n,l){n(l,4,0,"checkmark-circle")},function(n,l){n(l,3,0,i._21(l,4)._hidden)})})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(2,["\n\n    "])),(n()(),i._1(16777216,null,0,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,5,"ion-avatar",[["class","icon-block"],["item-start",""]],null,null,null,null,null)),i._5(16384,null,0,Qn.a,[],null,null),(n()(),i._27(null,["\n      "])),(n()(),i._7(0,null,null,1,"ion-icon",[["name","close-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(null,["\n    "]))],function(n,l){n(l,4,0,"close-circle")},function(n,l){n(l,3,0,i._21(l,4)._hidden)})})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(2,["\n    "])),(n()(),i._1(16777216,null,0,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,5,"ion-avatar",[["class","icon-block icon-block accepted"],["item-start",""]],null,null,null,null,null)),i._5(16384,null,0,Qn.a,[],null,null),(n()(),i._27(null,["\n      "])),(n()(),i._7(0,null,null,1,"ion-icon",[["name","ios-clock"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(null,["\n    "]))],function(n,l){n(l,4,0,"ios-clock")},function(n,l){n(l,3,0,i._21(l,4)._hidden)})})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(2,["\n    "])),(n()(),i._7(0,null,2,26,"div",[],null,null,null,null,null)),(n()(),i._27(null,["\n      "])),(n()(),i._7(0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),i._27(null,[""," "," person(s)"])),(n()(),i._27(null,["\n   \n      "])),(n()(),i._7(0,null,null,20,"ion-list",[["inline",""]],null,null,null,null,null)),i._5(16384,null,0,Nn.a,[pn.a,i.k,i.F,On.a,Cn.l,jn.a],null,null),(n()(),i._27(null,["\n        "])),(n()(),i._7(0,null,null,3,"span",[["style","font-size: 75%"]],null,null,null,null,null)),(n()(),i._7(0,null,null,1,"ion-icon",[["name","clock"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(null,[" ",""])),(n()(),i._27(null,[" - ","\n        "])),(n()(),i._7(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),i._27(null,["\n          ","\n        "])),(n()(),i._27(null,["\n        "])),(n()(),i._7(0,null,null,8,"span",[["style","font-size:75%"]],null,null,null,null,null)),(n()(),i._27(null,["\n          "])),(n()(),i._7(0,null,null,5,"ion-note",[],null,null,null,null,null)),i._5(16384,null,0,nl.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(null,["\n            "])),(n()(),i._7(0,null,null,1,"ion-icon",[["name","thumbs-up"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(null,[" "," accepted,  \n            "," waiting,  \n            your position ","\n          "])),(n()(),i._27(null,["\n        "])),(n()(),i._27(null,["\n      "])),(n()(),i._27(null,["\n    "])),(n()(),i._27(2,["\n    "])),(n()(),i._7(0,null,4,10,"div",[["item-end",""],["style","vertical-align: top;"]],null,null,null,null,null)),(n()(),i._27(null,["\n      "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),i._5(16384,null,0,Gn.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(null,["Issued"]))],null,null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(null,["\n      "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),i._5(16384,null,0,Gn.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(null,["Called"]))],null,null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(null,["\n      "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,5,"ion-badge",[["color","secondary"],["item-end",""]],null,null,null,null,null)),i._5(16384,null,0,Gn.a,[pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(null,["\n        "])),(n()(),i._7(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),i._27(null,["Accepted"])),(n()(),i._27(null,["\n      "]))],function(n,l){n(l,1,0,"secondary")},null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(null,["\n    "])),(n()(),i._27(2,["\n    "])),(n()(),i._7(0,null,2,9,"div",[],null,null,null,null,null)),(n()(),i._27(null,["\n      "])),(n()(),i._1(16777216,null,null,2,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,2,"button",[["block",""],["class","ion-minus-circled"],["ion-button",""],["large",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.skip(i._21(n.parent,1))&&t),t},Hn.b,Hn.a)),i._5(1097728,[[4,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],{large:[0,"large"],block:[1,"block"]},null),(n()(),i._27(0,["Skip"]))],function(n,l){n(l,1,0,"","")},null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(null,["\n      "])),(n()(),i._1(16777216,null,null,2,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,2,"button",[["block",""],["button-positive",""],["class","ion-minus-circled"],["color","secondary"],["ion-button",""],["large",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.accept(i._21(n.parent,1))&&t),t},Hn.b,Hn.a)),i._5(1097728,[[4,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"],large:[1,"large"],block:[2,"block"]},null),(n()(),i._27(0,["Accept"]))],function(n,l){n(l,1,0,"secondary","","")},null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(null,["\n    "])),(n()(),i._27(2,["\n  "])),(n()(),i._27(null,["\n  "])),(n()(),i._7(0,null,1,10,"ion-item-options",[["side","left"]],null,null,null,null,null)),i._5(16384,[[2,4]],0,ll.a,[i.k,On.a],{side:[0,"side"]},null),(n()(),i._27(null,["\n    "])),(n()(),i._1(16777216,null,null,2,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,2,"button",[["class","ion-minus-circled"],["color","danger"],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cancel(i._21(n.parent,1))&&t),t},Hn.b,Hn.a)),i._5(1097728,null,0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(0,["Cancel"]))],function(n,l){n(l,1,0,"danger")},null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(null,["\n    "])),(n()(),i._1(16777216,null,null,2,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,2,"button",[["class","ion-minus-circled"],["color","danger"],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close(i._21(n.parent,1))&&t),t},Hn.b,Hn.a)),i._5(1097728,null,0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(0,["Close"]))],function(n,l){n(l,1,0,"danger")},null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(null,["\n  "])),(n()(),i._27(null,["\n  "])),(n()(),i._27(null,["\n"]))],function(n,l){var e=l.component;n(l,13,0,!e.cancelled&&!e.accepted),n(l,16,0,e.cancelled),n(l,19,0,e.accepted);n(l,31,0,"clock");n(l,43,0,"thumbs-up"),n(l,52,0,!e.called&&!e.accepted),n(l,55,0,e.called),n(l,58,0,e.accepted),n(l,64,0,i._28(l,64,0,i._21(l,65).transform(e.loggedIn))&&e.called),n(l,68,0,i._28(l,68,0,i._21(l,69).transform(e.loggedIn))&&e.called);n(l,74,0,"left"),n(l,77,0,i._28(l,77,0,i._21(l,78).transform(e.loggedIn))&&!e.cancelled&&!e.accepted),n(l,81,0,i._28(l,81,0,i._21(l,82).transform(e.loggedIn))&&(e.accepted||e.cancelled))},function(n,l){var e=l.component;n(l,24,0,e.subscribedEvent.description,e.subscribedEvent.ticket.participants),n(l,30,0,i._21(l,31)._hidden),n(l,32,0,e.lastMessageTitle.split(" - ")[0]),n(l,33,0,e.lastMessageTitle.split(" - ")[1]),n(l,35,0,e.lastMessage),n(l,42,0,i._21(l,43)._hidden),n(l,44,0,null==e.ticketSummary?null:e.ticketSummary.acceptedCnt,null==e.ticketSummary?null:e.ticketSummary.waitingCnt,null==e.ticketSummary?null:e.ticketSummary.waitingPosition)})}Object.defineProperty(l,"__esModule",{value:!0});var u=e(55),i=e(1),o=e(2),a=e(63),s=e(44),c=e(66),r=e(61),_=e(87),d=e(124),b=e(125),g=e(30),p=e(0),f=function(){function n(n,l){this.navCtrl=n,this.ws=l}return Object.defineProperty(n.prototype,"lastMessages",{get:function(){return this.ws.lastMessages},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"username",{get:function(){return this.ws.getUsername()},set:function(n){this.ws.setUsername(n)},enumerable:!0,configurable:!0}),n.prototype.connectedState=function(){return this.ws.connected},n.prototype.loggedIn=function(){return this.ws.identified},n.prototype.stopped=function(){return this.ws.stopped},n.prototype.loggedInText=function(){var n=this;return this.ws.identified.map(function(l){return l?"User "+n.ws.getUsername()+" Connected":"User "+n.ws.getUsername()+" Disconnected"})},n.prototype.logIn=function(n){var l=this;this.subscr=this.ws.identified.subscribe(function(n){n&&(l.navCtrl.pop(),l.subscr.unsubscribe())}),this.ws.login(n)},n.prototype.logOut=function(){this.ws.disconnectWS()},n}();f=Object(o.__decorate)([Object(i.i)({selector:"page-settings",templateUrl:"settings.html"}),Object(o.__metadata)("design:paramtypes",["function"==typeof(h=void 0!==s.g&&s.g)&&h||Object,"function"==typeof(m=void 0!==g.b&&g.b)&&m||Object])],f);var h,m,k=function(){function n(n,l,e){this.navCtrl=n,this.navParams=l,this.ws=e,this.countModel=1,this.event=l.get("event")}return n.prototype.registerTicketForEvent=function(n){this.ws.subscribeEvent(this.event.id,n),this.navCtrl.pop()},n.prototype.popView=function(){this.navCtrl.pop()},n}();k=Object(o.__decorate)([Object(i.i)({selector:"page-subscribe",templateUrl:"subscribe.html"}),Object(o.__metadata)("design:paramtypes",["function"==typeof(v=void 0!==s.g&&s.g)&&v||Object,"function"==typeof(y=void 0!==s.h&&s.h)&&y||Object,"function"==typeof(w=void 0!==g.b&&g.b)&&w||Object])],k);var v,y,w,O=location.host,S=location.pathname,C=location.protocol+"//"+O+S+"api/events",j=I=function(){function n(n,l,e,t,u,i){this.navCtrl=n,this.alertCtrl=l,this.ws=e,this.http=t,this.backgroundMode=u,this.platform=i,this.searchQuery="",this.connected=!1,this.items=[],this.filtereditems=[],this.unsubscribedItems=[],this.ticketSubscriptions=[]}return n.prototype.ngOnInit=function(){var n=this;this.ws.disconnectWS(),this.initializeItems(),this.ws.getUsername||this.navCtrl.push(f),this.ws.connected.subscribe(function(l){n.connected=l,n.connected&&(n.initializeItems(),n.ticketSubscriptions=[])}),this.externalLoaderSubscription=p.Observable.combineLatest(this.ws.identified,p.Observable.interval(1e3)).subscribe(function(l){var e=l[0],t=localStorage.getItem("external_load");if(n.navCtrl.getActive().component===I&&e&&t&&t.startsWith("mobileticket://")&&n.items.length>0){localStorage.removeItem("external_load"),n.ws.logMessages.next(t);var u=t.split("/").filter(function(n){return n.length>0}),i=u[2],o=u[3];switch(n.ws.logMessages.next("External loadrequest: entity="+u[1]+", id="+i+", command="+o),o){case"subscribe":default:n.items.filter(function(n){return n.id===parseInt(i)}).forEach(function(l){return n.subscribe(l)})}}})},n.prototype.ngOnDestroy=function(){this.activatedSubscription&&(this.activatedSubscription.unsubscribe(),this.createdSubscription.unsubscribe(),this.externalLoaderSubscription.unsubscribe()),console.log("home destroyed")},n.prototype.initializeItems=function(){var n=this;this.http.get("https://38qniweusmuwjkbr.myfritz.net/mbq/api/events").subscribe(function(l){n.setItmes(l)},function(l){return n.http.get(C).subscribe(function(l){n.setItmes(l)})})},n.prototype.setItmes=function(n){var l=this;this.items=n.events,this.updateUnsubscribedItems(),console.log("items retrieved");var e=function(n){l.removeTicket(n.ticket),l.ticketSubscriptions.push({description:l.getEventText(n.ticket.eventid),ticket:n.ticket}),l.updateUnsubscribedItems()};this.createdSubscription||(this.createdSubscription=this.ws.ticketCreated.subscribe(function(n){console.log("ticket issued"),e(n)}),this.activatedSubscription=this.ws.ticketActivated.subscribe(function(n){console.log("ticket activated"),e(n)}),this.ws.init())},n.prototype.updateUnsubscribedItems=function(){var n=this;if(this.unsubscribedItems=this.items.filter(function(l){return!n.searchQuery||""===n.searchQuery.trim()||l.eventTitle.toLowerCase().indexOf(n.searchQuery.toLowerCase())>-1}).filter(function(l){return 0===n.ticketSubscriptions.filter(function(n){return n.ticket.eventid===l.id}).length}),this.platform.is("cordova"))try{this.ticketSubscriptions.length>0?(this.backgroundMode.setDefaults({title:"Mobile Ticket Queue",text:"is listening on ticket-service"}),this.backgroundMode.enable()):this.backgroundMode.disable()}catch(n){}},n.prototype.getEvents=function(n){this.searchQuery=n.target.value,this.initializeItems()},n.prototype.getEventText=function(n){return this.items.filter(function(l){return l.id==n}).map(function(n){return n.eventTitle}).join("")},Object.defineProperty(n.prototype,"username",{get:function(){return this.ws.getUsername()},set:function(n){this.ws.setUsername(n)},enumerable:!0,configurable:!0}),n.prototype.connectedState=function(){return this.ws.connected},n.prototype.loggedIn=function(){return this.ws.identified},n.prototype.loggedInText=function(){var n=this;return this.ws.identified.map(function(l){return l?"User "+n.ws.getUsername()+" Connected":"User "+n.ws.getUsername()+" Disconnected"})},n.prototype.settings=function(){this.navCtrl.push(f)},n.prototype.subscribe=function(n){this.connected?this.navCtrl.push(k,{event:n}):this.alertCtrl.create({title:"Disconnected",subTitle:"Please apply all your Settings to connect with the service",buttons:["OK"]}).present()},n.prototype.removeTicket=function(n){this.ticketSubscriptions=this.ticketSubscriptions.filter(function(l){return l.ticket.eventid!==n.eventid})},n.prototype.onTicketClosed=function(n){this.removeTicket(n),this.initializeItems()},n}();j=I=Object(o.__decorate)([Object(i.i)({selector:"page-home",templateUrl:"home.html"}),Object(o.__metadata)("design:paramtypes",["function"==typeof(F=void 0!==s.g&&s.g)&&F||Object,"function"==typeof(x=void 0!==s.a&&s.a)&&x||Object,"function"==typeof(M=void 0!==g.b&&g.b)&&M||Object,"function"==typeof(T=void 0!==a.c&&a.c)&&T||Object,"function"==typeof(P=void 0!==c.a&&c.a)&&P||Object,"function"==typeof(E=void 0!==s.i&&s.i)&&E||Object])],j);var I,F,x,M,T,P,E,L=e(89),U=function(){function n(n,l,e,t,u){this.platform=n,this.statusBar=l,this.splashScreen=e,this.backendWS=t,this.localNotifications=u,this.rootPage=j,this.initializeApp(),this.pages=[{title:"Home",component:j},{title:"Settings",component:f},{title:"MyEvents",component:L.a}]}return n.prototype.initializeApp=function(){var n=this;this.platform.ready().then(function(){n.statusBar.styleDefault(),n.splashScreen.hide(),n.platform.is("cordova")&&n.localNotifications.registerPermission()})},n.prototype.openPage=function(n){"Settings"===n.title?(console.log("push"),this.nav.push(n.component)):this.nav.getActive().component!==n.component&&this.nav.setRoot(n.component)},n}();Object(o.__decorate)([Object(i.O)(s.f),Object(o.__metadata)("design:type","function"==typeof(z=void 0!==s.f&&s.f)&&z||Object)],U.prototype,"nav",void 0),U=Object(o.__decorate)([Object(i.i)({templateUrl:"app.html"}),Object(o.__metadata)("design:paramtypes",["function"==typeof(A=void 0!==s.i&&s.i)&&A||Object,"function"==typeof(N=void 0!==d.a&&d.a)&&N||Object,"function"==typeof(D=void 0!==b.a&&b.a)&&D||Object,"function"==typeof($=void 0!==g.b&&g.b)&&$||Object,"function"==typeof(R=void 0!==r.a&&r.a)&&R||Object])],U);var z,A,N,D,$,R,W=e(88),q=e(212),B=function(){function n(n,l,e,t,u,o){this.ws=n,this.vibration=l,this.platform=e,this.backgroundMode=t,this.localNotifications=u,this.toast=o,this.onClose=new i.m}return Object.defineProperty(n.prototype,"called",{get:function(){return"Called"===this.subscribedEvent.ticket.state},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"accepted",{get:function(){return"Confirmed"===this.subscribedEvent.ticket.state},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eventTitle",{get:function(){return this.subscribedEvent?this.subscribedEvent.description:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subscribedEventParticipants",{get:function(){return this.subscribedEvent.ticket.participants},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"connectedState",{get:function(){return this.ws.connected},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loggedIn",{get:function(){return this.ws.identified},enumerable:!0,configurable:!0}),n.prototype.showTostMessage=function(){if(this.platform.is("cordova"))try{this.toast.showLongBottom(this.lastMessage).subscribe()}catch(n){}},n.prototype.ngOnInit=function(){var n=this;console.log("create ticket "+JSON.stringify(this.subscribedEvent)),this.lastMessageTitle=Object(q.a)()+" - Ticket registered",this.lastMessage="You'll be called 10 minutes before Your Event \""+this.eventTitle+'" starts!',this.cancelled=!1;var l=function(l){return l&&l.ticket.id===n.subscribedEvent.ticket.id&&l.ticket.eventid==n.subscribedEvent.ticket.eventid};this.activatedSubsription=this.ws.ticketActivated.filter(l).subscribe(function(l){n.subscribedEvent.ticket=l.ticket,n.lastMessageTitle=Object(q.a)()+" - Ticket (re-)activated",n.lastMessage='You will be called 10 minutes before Your Event "'+n.eventTitle+'" starts!',n.showTostMessage()}),this.calledSubsription=this.ws.ticketCalled.filter(l).subscribe(function(l){if(n.subscribedEvent.ticket=l.ticket,n.vibration.vibrate([1e3,500,2e3]),n.lastMessageTitle=Object(q.a)()+" - Let's go",n.lastMessage="Please confirm. Will you be ready in 10 minutes?",n.platform.is("cordova"))try{n.localNotifications.schedule({id:l.ticket.eventid,text:n.lastMessage}),n.backgroundMode.isScreenOff().then(function(l){try{l?n.backgroundMode.unlock():n.backgroundMode.moveToForeground()}catch(n){}})}catch(n){}}),this.acceptedSubsription=this.ws.ticketAccepted.filter(l).subscribe(function(l){n.subscribedEvent.ticket=l.ticket,n.lastMessageTitle=Object(q.a)()+" - Ticket accepted",n.lastMessage="We expect you in 10 minutes at "+n.eventTitle+"!",n.showTostMessage()}),this.skippedSubscription=this.ws.ticketSkipped.filter(l).subscribe(function(l){n.subscribedEvent.ticket=l.ticket,n.lastMessageTitle=Object(q.a)()+" - Ticket skipped",n.lastMessage='You will be called 10 minutes before the next iteration of Your Event "'+n.eventTitle+'" starts!',n.showTostMessage()}),this.expiredSubscription=this.ws.ticketExpired.filter(l).subscribe(function(l){n.subscribedEvent.ticket=l.ticket,n.lastMessageTitle=Object(q.a)()+" - Ticket has expired",n.lastMessage='You will be called 10 minutes before the next iteration of Your Event "'+n.eventTitle+'" starts!',n.showTostMessage()}),this.closedSubscription=this.ws.ticketDeleted.filter(l).subscribe(function(l){n.subscribedEvent.ticket=l.ticket,n.cancelled=!0,n.lastMessageTitle=Object(q.a)()+" - Ticket returned",n.lastMessage="You're no longer waiting for "+n.eventTitle+"!",n.showTostMessage()}),this.summariesSubsription=this.ws.ticketSummaries.filter(function(l){return l&&l.eventid===n.subscribedEvent.ticket.eventid}).subscribe(function(l){n.ticketSummary=l})},n.prototype.skip=function(n){this.lastMessageTitle=Object(q.a)()+" - I'm Not ready yet",this.lastMessage="I skipped my invitation to the next iteration",this.ws.skip(this.subscribedEvent.ticket),n.close()},n.prototype.accept=function(n){this.lastMessageTitle=Object(q.a)()+" - Confirmed",this.lastMessage="Yes, i'll be there",this.ws.confirm(this.subscribedEvent.ticket),n.close()},n.prototype.cancel=function(n){this.ws.unsubscribeEvent(this.subscribedEvent.ticket.eventid),n.close()},n.prototype.close=function(n){this.onClose.next(this.subscribedEvent.ticket),n.close()},n.prototype.ngOnDestroy=function(){console.log("destroy ticket "+this.subscribedEvent),this.clearSubsriptions()},n.prototype.clearSubsriptions=function(){this.summariesSubsription&&(this.summariesSubsription.unsubscribe(),this.acceptedSubsription.unsubscribe(),this.calledSubsription.unsubscribe(),this.activatedSubsription.unsubscribe(),this.closedSubscription.unsubscribe(),this.expiredSubscription.unsubscribe(),this.skippedSubscription.unsubscribe())},n}();Object(o.__decorate)([Object(i.r)(),Object(o.__metadata)("design:type","function"==typeof(Y=void 0!==g.EventSubscription&&g.EventSubscription)&&Y||Object)],B.prototype,"subscribedEvent",void 0),Object(o.__decorate)([Object(i.B)(),Object(o.__metadata)("design:type",Object)],B.prototype,"onClose",void 0),B=Object(o.__decorate)([Object(i.i)({selector:"ticket",templateUrl:"ticket.html"}),Object(o.__metadata)("design:paramtypes",["function"==typeof(J=void 0!==g.b&&g.b)&&J||Object,"function"==typeof(H=void 0!==W.a&&W.a)&&H||Object,"function"==typeof(K=void 0!==s.i&&s.i)&&K||Object,"function"==typeof(V=void 0!==c.a&&c.a)&&V||Object,"function"==typeof(Q=void 0!==r.a&&r.a)&&Q||Object,"function"==typeof(G=void 0!==_.a&&_.a)&&G||Object])],B);var Y,J,H,K,V,Q,G,X=e(170),Z=function(){return function(){}}();Z=Object(o.__decorate)([Object(i.v)({declarations:[U,B,j,f,k],imports:[u.a,a.d,s.d.forRoot(U,{},{links:[{loadChildren:"../pages/myevents/myevents.module.ngfactory#MyeventsPageModuleNgFactory",name:"MyeventsPage",segment:"myevents",priority:"low",defaultHistory:[]}]}),X.a],bootstrap:[s.b],entryComponents:[U,j,k,f],providers:[d.a,b.a,g.b,W.a,c.a,r.a,_.a,{provide:i.l,useClass:s.c}]})],Z);var nn=e(70),ln=e(256),en=e(257),tn=e(258),un=e(259),on=e(260),an=e(261),sn=e(262),cn=e(263),rn=e(264),_n=e(265),dn=e(59),bn=e(17),gn=e(15),pn=e(3),fn=e(37),hn=e(46),mn=e(141),kn=e(34),vn=e(541),yn=e(53),wn=e(107),On=e(6),Sn=e(32),Cn=e(11),jn=e(10),In=e(12),Fn=e(60),xn=e(7),Mn=e(542),Tn=e(39),Pn=e(84),En=e(54),Ln=e(35),Un=e(85),zn=e(27),An=e(26),Nn=e(47),Dn=e(14),$n=e(543),Rn=e(77),Wn=e(51),qn=e(28),Bn=i._4({encapsulation:2,styles:[],data:{}}),Yn=i._2("ng-component",U,function(n){return i._29(0,[(n()(),i._7(0,null,null,1,"ng-component",[],null,null,null,function(n){return i._29(0,[i._25(402653184,1,{nav:0}),(n()(),i._7(0,null,null,28,"ion-menu",[["role","navigation"]],null,null,null,vn.b,vn.a)),i._24(6144,null,yn.a,null,[wn.a]),i._5(245760,null,2,wn.a,[kn.a,i.k,pn.a,On.a,i.F,Sn.a,Cn.l,jn.a,In.a],{content:[0,"content"]},null),i._25(335544320,2,{menuContent:0}),i._25(335544320,3,{menuNav:0}),(n()(),i._27(0,["\n  "])),(n()(),i._7(0,null,0,10,"ion-header",[],null,null,null,null,null)),i._5(16384,null,0,Fn.a,[pn.a,i.k,i.F,[2,xn.a]],null,null),(n()(),i._27(null,["\n    "])),(n()(),i._7(0,null,null,6,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,Mn.b,Mn.a)),i._5(49152,null,0,Tn.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(3,["\n      "])),(n()(),i._7(0,null,3,2,"ion-title",[],null,null,null,Pn.b,Pn.a)),i._5(49152,null,0,En.a,[pn.a,i.k,i.F,[2,Tn.a],[2,Ln.a]],null,null),(n()(),i._27(0,["Menu"])),(n()(),i._27(3,["\n    "])),(n()(),i._27(null,["\n  "])),(n()(),i._27(0,["\n\n  "])),(n()(),i._7(0,null,0,9,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(n,l,e){var t=!0;return"window:resize"===l&&(t=!1!==i._21(n,20).resize()&&t),t},Un.b,Un.a)),i._5(4374528,[[2,4]],0,zn.a,[pn.a,On.a,jn.a,i.k,i.F,In.a,Sn.a,i.y,[2,xn.a],[2,An.a]],null,null),(n()(),i._27(1,["\n    "])),(n()(),i._7(0,null,1,5,"ion-list",[],null,null,null,null,null)),i._5(16384,null,0,Nn.a,[pn.a,i.k,i.F,On.a,Cn.l,jn.a],null,null),(n()(),i._27(null,["\n      "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,7,"button",[["class","item item-block"],["ion-item",""],["menuClose",""]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;return"click"===l&&(t=!1!==i._21(n,6).close()&&t),"click"===l&&(t=!1!==u.openPage(n.context.$implicit)&&t),t},dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,4,{contentLabel:0}),i._25(603979776,5,{_buttons:1}),i._25(603979776,6,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),i._5(16384,null,0,mn.a,[kn.a],{menuClose:[0,"menuClose"]},null),(n()(),i._27(2,["\n        ","\n      "]))],function(n,l){n(l,6,0,"")},function(n,l){n(l,7,0,l.context.$implicit.title)})})),i._5(802816,null,0,Dn.i,[i.P,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),(n()(),i._27(null,["\n    "])),(n()(),i._27(1,["\n  "])),(n()(),i._27(0,["\n\n"])),(n()(),i._27(null,["\n\n"])),(n()(),i._27(null,["\n"])),(n()(),i._7(0,null,null,2,"ion-nav",[["swipeBackEnabled","false"]],null,null,null,$n.b,$n.a)),i._24(6144,null,yn.a,null,[Rn.a]),i._5(4374528,[[1,4],["content",4]],0,Rn.a,[[2,xn.a],[2,An.a],In.a,pn.a,On.a,i.k,i.y,i.F,i.j,Cn.l,Wn.a,[2,qn.a],jn.a,i.l],{swipeBackEnabled:[0,"swipeBackEnabled"],root:[1,"root"]},null)],function(n,l){var e=l.component;n(l,3,0,i._21(l,34)),n(l,26,0,e.pages),n(l,34,0,"false",e.rootPage)},function(n,l){n(l,10,0,i._21(l,11)._sbPadding),n(l,19,0,i._21(l,20).statusbarPadding,i._21(l,20)._hasRefresher)})},Bn)),i._5(49152,null,0,U,[On.a,d.a,b.a,g.b,r.a],null,null)],null,null)},{},{},[]),Jn=e(104),Hn=e(33),Kn=e(20),Vn=e(36),Qn=e(73),Gn=e(65),Xn=e(235),Zn=e(76),nl=e(86),ll=e(75),el=i._4({encapsulation:2,styles:[],data:{}}),tl=(i._2("ticket",B,function(n){return i._29(0,[(n()(),i._7(0,null,null,1,"ticket",[],null,null,null,t,el)),i._5(245760,null,0,B,[g.b,W.a,On.a,c.a,r.a,_.a],null,null)],function(n,l){n(l,1,0)},null)},{subscribedEvent:"subscribedEvent"},{onClose:"onClose"},[]),e(121)),ul=e(108),il=e(123),ol=e(58),al=e(544),sl=e(18),cl=e(122),rl=e(138),_l=e(99),dl=i._4({encapsulation:2,styles:[],data:{}}),bl=i._2("page-home",j,function(n){return i._29(0,[(n()(),i._7(0,null,null,1,"page-home",[],null,null,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,30,"ion-header",[],null,null,null,null,null)),i._5(16384,null,0,Fn.a,[pn.a,i.k,i.F,[2,xn.a]],null,null),(n()(),i._27(null,["\n  "])),(n()(),i._7(0,null,null,26,"ion-navbar",[["class","toolbar"],["color","primary"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,tl.b,tl.a)),i._5(49152,null,0,Ln.a,[In.a,[2,xn.a],[2,An.a],pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(3,["\n    "])),(n()(),i._7(0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==i._21(n,8).toggle()&&t),t},Hn.b,Hn.a)),i._5(1097728,[[1,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],null,null),i._5(1064960,null,0,ul.a,[kn.a,[2,xn.a],[2,Kn.a],[2,Ln.a]],{menuToggle:[0,"menuToggle"]},null),i._5(16384,null,1,il.a,[pn.a,i.k,i.F,[2,Tn.a],[2,Ln.a]],null,null),i._25(603979776,1,{_buttons:1}),(n()(),i._27(0,["\n      "])),(n()(),i._7(0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(0,["\n    "])),(n()(),i._27(3,["\n    "])),(n()(),i._7(0,null,3,2,"ion-title",[],null,null,null,Pn.b,Pn.a)),i._5(49152,null,0,En.a,[pn.a,i.k,i.F,[2,Tn.a],[2,Ln.a]],null,null),(n()(),i._27(0,["Mobile Ticket Queue"])),(n()(),i._27(3,["\n    "])),(n()(),i._7(0,null,2,8,"ion-buttons",[["end",""]],null,null,null,null,null)),i._5(16384,null,1,il.a,[pn.a,i.k,i.F,[2,Tn.a],[2,Ln.a]],null,null),i._25(603979776,2,{_buttons:1}),(n()(),i._27(null,["\n      "])),(n()(),i._7(0,null,null,3,"ion-note",[],null,null,null,null,null)),i._5(16384,null,0,nl.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(null,["",""])),i._22(131072,Dn.b,[i.g]),(n()(),i._27(null,["\n    "])),(n()(),i._27(3,["\n  "])),(n()(),i._27(null,["\n"])),(n()(),i._27(null,["\n\n"])),(n()(),i._7(0,null,null,65,"ion-content",[["primary-color-text",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(n,l,e){var t=!0;return"window:resize"===l&&(t=!1!==i._21(n,33).resize()&&t),t},Un.b,Un.a)),i._5(4374528,null,0,zn.a,[pn.a,On.a,jn.a,i.k,i.F,In.a,Sn.a,i.y,[2,xn.a],[2,An.a]],null,null),(n()(),i._27(1,["\n  "])),(n()(),i._7(0,null,1,61,"ion-list",[],null,null,null,null,null)),i._5(16384,null,0,Nn.a,[pn.a,i.k,i.F,On.a,Cn.l,jn.a],null,null),(n()(),i._27(null,["\n    "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,6,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],{color:[0,"color"]},null),i._25(335544320,3,{contentLabel:0}),i._25(603979776,4,{_buttons:1}),i._25(603979776,5,{_icons:1}),i._5(16384,null,0,Jn.a,[pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(2,["Setup"]))],function(n,l){n(l,1,0,"light"),n(l,5,0,"light")},null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(null,["\n    "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,22,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,6,{contentLabel:0}),i._25(603979776,7,{_buttons:1}),i._25(603979776,8,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,2,1,"h2",[],null,null,null,null,null)),(n()(),i._27(null,["It's Your first time here?"])),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,2,1,"p",[],null,null,null,null,null)),(n()(),i._27(null,["Please fill out your Name in the settings-panel to connect to the service."])),(n()(),i._27(2,["\n\n      "])),(n()(),i._7(0,null,4,8,"button",[["color","secondary"],["icon-left",""],["ion-button",""],["item-right",""],["large",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.settings()&&t),t},Hn.b,Hn.a)),i._5(1097728,[[7,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"],large:[1,"large"]},null),(n()(),i._27(0,["\n        "])),(n()(),i._7(0,null,0,1,"ion-icon",[["name","settings"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(0,["\n        "])),(n()(),i._7(0,null,0,1,"div",[],null,null,null,null,null)),(n()(),i._27(null,["Settings ..."])),(n()(),i._27(0,["\n      "])),(n()(),i._27(2,["\n    "]))],function(n,l){n(l,14,0,"secondary",""),n(l,17,0,"settings")},function(n,l){n(l,16,0,i._21(l,17)._hidden)})})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(null,["\n\n    "])),(n()(),i._1(16777216,null,null,2,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,6,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],{color:[0,"color"]},null),i._25(335544320,9,{contentLabel:0}),i._25(603979776,10,{_buttons:1}),i._25(603979776,11,{_icons:1}),i._5(16384,null,0,Jn.a,[pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(2,["Connect"]))],function(n,l){n(l,1,0,"light"),n(l,5,0,"light")},null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(null,["\n    "])),(n()(),i._1(16777216,null,null,2,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,22,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,12,{contentLabel:0}),i._25(603979776,13,{_buttons:1}),i._25(603979776,14,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,2,1,"h2",[],null,null,null,null,null)),(n()(),i._27(null,["There is no connection to the service."])),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,2,1,"p",[],null,null,null,null,null)),(n()(),i._27(null,["Please check the settings."])),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,4,8,"button",[["color","secondary"],["icon-left",""],["ion-button",""],["item-right",""],["large",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.settings()&&t),t},Hn.b,Hn.a)),i._5(1097728,[[13,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"],large:[1,"large"]},null),(n()(),i._27(0,["\n        "])),(n()(),i._7(0,null,0,1,"ion-icon",[["name","settings"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(0,["\n        "])),(n()(),i._7(0,null,0,1,"div",[],null,null,null,null,null)),(n()(),i._27(null,["Settings ..."])),(n()(),i._27(0,["\n      "])),(n()(),i._27(2,["\n    "]))],function(n,l){n(l,14,0,"secondary",""),n(l,17,0,"settings")},function(n,l){n(l,16,0,i._21(l,17)._hidden)})})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(null,["\n    "])),(n()(),i._7(0,null,null,10,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],{color:[0,"color"]},null),i._25(335544320,15,{contentLabel:0}),i._25(603979776,16,{_buttons:1}),i._25(603979776,17,{_icons:1}),i._5(16384,null,0,Jn.a,[pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(2,["Subscribed Events\n      "])),(n()(),i._7(0,null,4,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),i._5(16384,null,0,Gn.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(null,["",""])),(n()(),i._27(2,["\n    "])),(n()(),i._27(null,["\n    "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,1,"ticket",[],null,[[null,"onClose"]],function(n,l,e){var t=!0;return"onClose"===l&&(t=!1!==n.component.onTicketClosed(e)&&t),t},t,el)),i._5(245760,null,0,B,[g.b,W.a,On.a,c.a,r.a,_.a],{subscribedEvent:[0,"subscribedEvent"]},{onClose:"onClose"})],function(n,l){n(l,1,0,l.context.$implicit)},null)})),i._5(802816,null,0,Dn.i,[i.P,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),(n()(),i._27(null,["\n    "])),(n()(),i._7(0,null,null,14,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],{color:[0,"color"]},null),i._25(335544320,18,{contentLabel:0}),i._25(603979776,19,{_buttons:1}),i._25(603979776,20,{_icons:1}),i._5(16384,null,0,Jn.a,[pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,1,2,"ion-label",[],null,null,null,null,null)),i._5(16384,[[18,4]],0,ol.a,[pn.a,i.k,i.F,[8,null],[8,null],[8,null],[8,null]],null,null),(n()(),i._27(null,["Available Events"])),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,4,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),i._5(16384,null,0,Gn.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(null,["",""])),(n()(),i._27(2,["\n    "])),(n()(),i._27(null,["\n    "])),(n()(),i._7(0,null,null,5,"ion-searchbar",[["placeholder","Search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"searchbar-animated",null],[2,"searchbar-has-value",null],[2,"searchbar-active",null],[2,"searchbar-show-cancel",null],[2,"searchbar-left-aligned",null],[2,"searchbar-has-focus",null]],[[null,"ngModelChange"],[null,"ionInput"],[null,"ionCancel"]],function(n,l,e){var t=!0,u=n.component;return"ngModelChange"===l&&(t=!1!==(u.myInput=e)&&t),"ionInput"===l&&(t=!1!==u.getEvents(e)&&t),"ionCancel"===l&&(t=!1!==u.getEvents(e)&&t),t},al.b,al.a)),i._5(671744,null,0,sl.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),i._24(2048,null,sl.f,null,[sl.h]),i._5(16384,null,0,sl.g,[sl.f],null,null),i._5(1294336,null,0,cl.a,[pn.a,On.a,i.k,i.F,[2,sl.f]],{showCancelButton:[0,"showCancelButton"],placeholder:[1,"placeholder"]},{ionInput:"ionInput",ionCancel:"ionCancel"}),(n()(),i._27(null,["\n    "])),(n()(),i._27(null,["\n    "])),(n()(),i._7(0,null,null,5,"ion-item-group",[],null,null,null,null,null)),i._5(16384,null,0,rl.a,[],null,null),(n()(),i._27(null,["\n      "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,12,"button",[["class","item item-block"],["detail-push",""],["ion-item",""],["text-wrap",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.subscribe(n.context.$implicit)&&t),t},dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,21,{contentLabel:0}),i._25(603979776,22,{_buttons:1}),i._25(603979776,23,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),(n()(),i._27(2,["\n        "])),(n()(),i._7(0,null,0,4,"ion-avatar",[["class","icon-block"],["item-start",""]],null,null,null,null,null)),i._5(16384,null,0,Qn.a,[],null,null),(n()(),i._27(null,["\n          "])),(n()(),i._7(0,null,null,0,"img",[["src","assets/imgs/ticket-icon.png"]],null,null,null,null,null)),(n()(),i._27(null,["\n        "])),(n()(),i._27(2,["\n        ","\n      "]))],null,function(n,l){n(l,12,0,l.context.$implicit.eventTitle)})})),i._5(802816,null,0,Dn.i,[i.P,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),(n()(),i._27(null,["\n    "])),(n()(),i._27(null,["\n  "])),(n()(),i._27(1,["\n"]))],function(n,l){var e=l.component;n(l,4,0,"primary"),n(l,8,0,""),n(l,13,0,"menu"),n(l,39,0,!e.username),n(l,42,0,!e.username),n(l,45,0,!i._28(l,45,0,i._21(l,46).transform(e.loggedIn()))&&e.username),n(l,49,0,!i._28(l,49,0,i._21(l,50).transform(e.loggedIn()))&&e.username),n(l,53,0,"light"),n(l,57,0,"light"),n(l,65,0,e.ticketSubscriptions),n(l,68,0,"light"),n(l,72,0,"light"),n(l,84,0,e.myInput),n(l,87,0,!0,"Search"),n(l,94,0,e.unsubscribedItems)},function(n,l){var e=l.component;n(l,3,0,i._21(l,4)._hidden,i._21(l,4)._sbPadding),n(l,6,0,i._21(l,8).isHidden),n(l,12,0,i._21(l,13)._hidden),n(l,26,0,i._28(l,26,0,i._21(l,27).transform(e.loggedInText()))),n(l,32,0,i._21(l,33).statusbarPadding,i._21(l,33)._hasRefresher),n(l,61,0,e.ticketSubscriptions.length),n(l,80,0,e.unsubscribedItems.length),n(l,83,1,[i._21(l,86).ngClassUntouched,i._21(l,86).ngClassTouched,i._21(l,86).ngClassPristine,i._21(l,86).ngClassDirty,i._21(l,86).ngClassValid,i._21(l,86).ngClassInvalid,i._21(l,86).ngClassPending,i._21(l,87)._animated,i._21(l,87)._value,i._21(l,87)._isActive,i._21(l,87)._showCancelButton,i._21(l,87)._shouldAlignLeft,i._21(l,87)._isFocus])})},dl)),i._5(245760,null,0,j,[An.a,_l.a,g.b,a.c,c.a,On.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),gl=e(236),pl=e(83),fl=e(38),hl=e(16),ml=i._4({encapsulation:2,styles:[],data:{}}),kl=i._2("page-subscribe",k,function(n){return i._29(0,[(n()(),i._7(0,null,null,1,"page-subscribe",[],null,null,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,10,"ion-header",[],null,null,null,null,null)),i._5(16384,null,0,Fn.a,[pn.a,i.k,i.F,[2,xn.a]],null,null),(n()(),i._27(null,["\n\n  "])),(n()(),i._7(0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,tl.b,tl.a)),i._5(49152,null,0,Ln.a,[In.a,[2,xn.a],[2,An.a],pn.a,i.k,i.F],null,null),(n()(),i._27(3,["\n    "])),(n()(),i._7(0,null,3,2,"ion-title",[],null,null,null,Pn.b,Pn.a)),i._5(49152,null,0,En.a,[pn.a,i.k,i.F,[2,Tn.a],[2,Ln.a]],null,null),(n()(),i._27(0,["Subscribe ",""])),(n()(),i._27(3,["\n  "])),(n()(),i._27(null,["\n\n"])),(n()(),i._27(null,["\n\n\n"])),(n()(),i._7(0,null,null,43,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(n,l,e){var t=!0;return"window:resize"===l&&(t=!1!==i._21(n,13).resize()&&t),t},Un.b,Un.a)),i._5(4374528,null,0,zn.a,[pn.a,On.a,jn.a,i.k,i.F,In.a,Sn.a,i.y,[2,xn.a],[2,An.a]],null,null),(n()(),i._27(1,["  \n    "])),(n()(),i._7(0,null,1,13,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],{color:[0,"color"]},null),i._25(335544320,1,{contentLabel:0}),i._25(603979776,2,{_buttons:1}),i._25(603979776,3,{_icons:1}),i._5(16384,null,0,Jn.a,[pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._7(0,null,2,1,"h1",[],null,null,null,null,null)),(n()(),i._27(null,["How many people are you?"])),(n()(),i._27(2,["\n        "])),(n()(),i._7(0,null,4,3,"ion-badge",[["item-end",""]],null,null,null,null,null)),i._5(16384,null,0,Gn.a,[pn.a,i.k,i.F],null,null),(n()(),i._7(0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),i._27(null,["",""])),(n()(),i._27(2,["\n      "])),(n()(),i._27(1,["\n  "])),(n()(),i._7(0,null,1,13,"ion-item",[["class","item item-block"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,4,{contentLabel:0}),i._25(603979776,5,{_buttons:1}),i._25(603979776,6,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,3,5,"ion-range",[["color","secondary"],["max","10"],["min","1"],["snaps","true"],["step","1"]],[[2,"range-disabled",null],[2,"range-pressed",null],[2,"range-has-pin",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0;return"ngModelChange"===l&&(t=!1!==(n.component.countModel=e)&&t),t},gl.b,gl.a)),i._5(1228800,[["count",4]],0,pl.a,[gn.a,fl.a,[2,bn.a],pn.a,On.a,i.k,i.F,jn.a,i.g],{color:[0,"color"],min:[1,"min"],max:[2,"max"],step:[3,"step"],snaps:[4,"snaps"]},null),i._24(1024,null,sl.e,function(n){return[n]},[pl.a]),i._5(671744,null,0,sl.h,[[8,null],[8,null],[8,null],[2,sl.e]],{model:[0,"model"]},{update:"ngModelChange"}),i._24(2048,null,sl.f,null,[sl.h]),i._5(16384,null,0,sl.g,[sl.f],null,null),(n()(),i._27(2,["\n  "])),(n()(),i._27(1,["\n  "])),(n()(),i._7(0,null,1,5,"button",[["block",""],["color","secondary"],["icon-left",""],["ion-button",""],["large",""]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;return"click"===l&&(t=!1!==u.registerTicketForEvent(u.countModel)&&t),t},Hn.b,Hn.a)),i._5(1097728,null,0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"],large:[1,"large"],block:[2,"block"]},null),(n()(),i._27(0,["\n      "])),(n()(),i._7(0,null,0,1,"ion-icon",[["name","checkmark-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(0,["Issue a ticket"])),(n()(),i._27(1,["\n  "])),(n()(),i._7(0,null,1,2,"button",[["block",""],["color","primary"],["icon-left",""],["ion-button",""],["large",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.popView()&&t),t},Hn.b,Hn.a)),i._5(1097728,null,0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"],large:[1,"large"],block:[2,"block"]},null),(n()(),i._27(0,["\n      Cancel"])),(n()(),i._27(1,["\n"])),(n()(),i._27(null,["\n"]))],function(n,l){var e=l.component;n(l,16,0,"light"),n(l,20,0,"light"),n(l,38,0,"secondary","1","10","1","true"),n(l,40,0,e.countModel),n(l,46,0,"secondary","",""),n(l,49,0,"checkmark-circle"),n(l,53,0,"primary","","")},function(n,l){var e=l.component;n(l,3,0,i._21(l,4)._hidden,i._21(l,4)._sbPadding),n(l,8,0,e.event.eventTitle),n(l,12,0,i._21(l,13).statusbarPadding,i._21(l,13)._hasRefresher),n(l,27,0,e.countModel),n(l,37,0,i._21(l,38)._disabled,i._21(l,38)._pressed,i._21(l,38)._pin,i._21(l,42).ngClassUntouched,i._21(l,42).ngClassTouched,i._21(l,42).ngClassPristine,i._21(l,42).ngClassDirty,i._21(l,42).ngClassValid,i._21(l,42).ngClassInvalid,i._21(l,42).ngClassPending),n(l,48,0,i._21(l,49)._hidden)})},ml)),i._5(49152,null,0,k,[An.a,hl.a,g.b],null,null)],null,null)},{},{},[]),vl=e(134),yl=e(545),wl=e(103),Ol=i._4({encapsulation:2,styles:[],data:{}}),Sl=i._2("page-settings",f,function(n){return i._29(0,[(n()(),i._7(0,null,null,1,"page-settings",[],null,null,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,30,"ion-header",[],null,null,null,null,null)),i._5(16384,null,0,Fn.a,[pn.a,i.k,i.F,[2,xn.a]],null,null),(n()(),i._27(null,["\n    "])),(n()(),i._7(0,null,null,26,"ion-navbar",[["class","toolbar"],["color","primary"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,tl.b,tl.a)),i._5(49152,null,0,Ln.a,[In.a,[2,xn.a],[2,An.a],pn.a,i.k,i.F],{color:[0,"color"]},null),(n()(),i._27(3,["\n      "])),(n()(),i._7(0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==i._21(n,8).toggle()&&t),t},Hn.b,Hn.a)),i._5(1097728,[[1,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],null,null),i._5(1064960,null,0,ul.a,[kn.a,[2,xn.a],[2,Kn.a],[2,Ln.a]],{menuToggle:[0,"menuToggle"]},null),i._5(16384,null,1,il.a,[pn.a,i.k,i.F,[2,Tn.a],[2,Ln.a]],null,null),i._25(603979776,1,{_buttons:1}),(n()(),i._27(0,["\n        "])),(n()(),i._7(0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(0,["\n      "])),(n()(),i._27(3,["\n      "])),(n()(),i._7(0,null,3,2,"ion-title",[],null,null,null,Pn.b,Pn.a)),i._5(49152,null,0,En.a,[pn.a,i.k,i.F,[2,Tn.a],[2,Ln.a]],null,null),(n()(),i._27(0,["Settings"])),(n()(),i._27(3,["\n      "])),(n()(),i._7(0,null,2,8,"ion-buttons",[["end",""]],null,null,null,null,null)),i._5(16384,null,1,il.a,[pn.a,i.k,i.F,[2,Tn.a],[2,Ln.a]],null,null),i._25(603979776,2,{_buttons:1}),(n()(),i._27(null,["\n        "])),(n()(),i._7(0,null,null,3,"ion-note",[],null,null,null,null,null)),i._5(16384,null,0,nl.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(null,["",""])),i._22(131072,Dn.b,[i.g]),(n()(),i._27(null,["\n      "])),(n()(),i._27(3,["\n    "])),(n()(),i._27(null,["\n"])),(n()(),i._27(null,["\n\n"])),(n()(),i._7(0,null,null,51,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(n,l,e){var t=!0;return"window:resize"===l&&(t=!1!==i._21(n,33).resize()&&t),t},Un.b,Un.a)),i._5(4374528,null,0,zn.a,[pn.a,On.a,jn.a,i.k,i.F,In.a,Sn.a,i.y,[2,xn.a],[2,An.a]],null,null),(n()(),i._27(1,["\n  "])),(n()(),i._7(0,null,1,18,"ion-item",[["class","item item-block"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,3,{contentLabel:0}),i._25(603979776,4,{_buttons:1}),i._25(603979776,5,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),(n()(),i._27(2,["\n    "])),(n()(),i._7(0,null,1,2,"ion-label",[["floating",""]],null,null,null,null,null)),i._5(16384,[[3,4]],0,ol.a,[pn.a,i.k,i.F,[8,""],[8,null],[8,null],[8,null]],null,null),(n()(),i._27(null,["Name"])),(n()(),i._27(2,["\n    "])),(n()(),i._7(0,null,3,6,"ion-input",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0;return"ngModelChange"===l&&(t=!1!==(n.component.username=e)&&t),t},yl.b,yl.a)),i._5(671744,null,0,sl.h,[[8,null],[8,null],[8,null],[8,null]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i._22(131072,Dn.b,[i.g]),i._24(2048,null,sl.f,null,[sl.h]),i._5(16384,null,0,sl.g,[sl.f],null,null),i._5(5423104,[["issuerName",4]],0,wl.a,[pn.a,On.a,gn.a,In.a,i.k,i.F,[2,zn.a],[2,bn.a],[2,sl.f],jn.a],{disabled:[0,"disabled"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(2,["\n  "])),(n()(),i._27(1,["\n  "])),(n()(),i._7(0,null,1,24,"ion-item",[["class","item item-block"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,6,{contentLabel:0}),i._25(603979776,7,{_buttons:1}),i._25(603979776,8,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),(n()(),i._27(2,["\n    "])),(n()(),i._1(16777216,null,2,2,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,5,"button",[["block",""],["color","secondary"],["icon-left",""],["ion-button",""],["large",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.logIn(i._21(n.parent,51).value)&&t),t},Hn.b,Hn.a)),i._5(1097728,[[7,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"],large:[1,"large"],block:[2,"block"]},null),(n()(),i._27(0,["\n      "])),(n()(),i._7(0,null,0,1,"ion-icon",[["name","log-in"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(0,["Login"]))],function(n,l){n(l,1,0,"secondary","",""),n(l,4,0,"log-in")},function(n,l){n(l,0,0,!l.component.username),n(l,3,0,i._21(l,4)._hidden)})})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(2,["\n    "])),(n()(),i._1(16777216,null,2,2,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,5,"button",[["block",""],["icon-left",""],["ion-button",""],["large",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.logOut()&&t),t},Hn.b,Hn.a)),i._5(1097728,[[7,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],{large:[0,"large"],block:[1,"block"]},null),(n()(),i._27(0,["\n      "])),(n()(),i._7(0,null,0,1,"ion-icon",[["name","log-out"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(0,["Logout"]))],function(n,l){n(l,1,0,"",""),n(l,4,0,"log-out")},function(n,l){n(l,3,0,i._21(l,4)._hidden)})})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),i._22(131072,Dn.b,[i.g]),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,4,8,"button",[["color","danger"],["icon-left",""],["ion-button",""],["ion-stop",""],["item-right",""],["large",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.logOut()&&t),t},Hn.b,Hn.a)),i._5(1097728,[[7,4]],0,Kn.a,[[8,""],pn.a,i.k,i.F],{color:[0,"color"],large:[1,"large"]},null),(n()(),i._27(0,["\n        "])),(n()(),i._7(0,null,0,1,"ion-icon",[["name","square"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i._5(147456,null,0,Vn.a,[pn.a,i.k,i.F],{name:[0,"name"]},null),(n()(),i._27(0,["\n        "])),(n()(),i._7(0,null,0,1,"div",[],null,null,null,null,null)),(n()(),i._27(null,["Stop"])),(n()(),i._27(0,["\n      "])),(n()(),i._27(2,["      \n  "])),(n()(),i._27(1,["\n\n  "])),(n()(),i._1(16777216,null,1,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,18,"ion-card",[],null,null,null,null,null)),i._5(16384,null,0,vl.a,[pn.a,i.k,i.F],null,null),(n()(),i._27(null,["\n    "])),(n()(),i._7(0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,dn.b,dn.a)),i._5(1097728,null,3,bn.a,[gn.a,pn.a,i.k,i.F,[2,fn.a]],null,null),i._25(335544320,9,{contentLabel:0}),i._25(603979776,10,{_buttons:1}),i._25(603979776,11,{_icons:1}),i._5(16384,null,0,hn.a,[],null,null),(n()(),i._27(2,["\n      "])),(n()(),i._7(0,null,2,1,"h2",[],null,null,null,null,null)),(n()(),i._27(null,["Last connection state-changes"])),(n()(),i._27(2,["\n    "])),(n()(),i._27(null,["\n    "])),(n()(),i._7(0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),i._27(null,["\n    "])),(n()(),i._1(16777216,null,null,1,null,function(n){return i._29(0,[(n()(),i._7(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),i._27(null,["",""]))],null,function(n,l){n(l,1,0,l.context.$implicit)})})),i._5(802816,null,0,Dn.i,[i.P,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),(n()(),i._27(null,["\n  "]))],function(n,l){n(l,17,0,l.component.lastMessages)},null)})),i._5(16384,null,0,Dn.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(n()(),i._27(1,["\n"]))],function(n,l){var e=l.component;n(l,4,0,"primary"),n(l,8,0,""),n(l,13,0,"menu"),n(l,47,0,i._28(l,47,0,i._21(l,48).transform(e.loggedIn())),e.username),n(l,51,0,i._28(l,51,0,i._21(l,52).transform(e.loggedIn()))),n(l,63,0,!i._28(l,63,0,i._21(l,64).transform(e.loggedIn()))),n(l,67,0,i._28(l,67,0,i._21(l,68).transform(e.loggedIn()))),n(l,71,0,"danger",""),n(l,74,0,"square"),n(l,82,0,e.lastMessages)},function(n,l){var e=l.component;n(l,3,0,i._21(l,4)._hidden,i._21(l,4)._sbPadding),n(l,6,0,i._21(l,8).isHidden),n(l,12,0,i._21(l,13)._hidden),n(l,26,0,i._28(l,26,0,i._21(l,27).transform(e.loggedInText()))),n(l,32,0,i._21(l,33).statusbarPadding,i._21(l,33)._hasRefresher),n(l,46,0,i._21(l,50).ngClassUntouched,i._21(l,50).ngClassTouched,i._21(l,50).ngClassPristine,i._21(l,50).ngClassDirty,i._21(l,50).ngClassValid,i._21(l,50).ngClassInvalid,i._21(l,50).ngClassPending),n(l,70,0,e.stopped()),n(l,73,0,i._21(l,74)._hidden)})},Ol)),i._5(49152,null,0,f,[An.a,g.b],null,null)],null,null)},{},{},[]),Cl=e(150),jl=e(132),Il=e(149),Fl=e(140),xl=e(171),Ml=e(72),Tl=e(62),Pl=e(154),El=e(100),Ll=e(158),Ul=e(152),zl=e(166),Al=e(255),Nl=e(151),Dl=e(142),$l=e(153),Rl=i._3(Z,[nn.b],function(n){return i._18([i._19(512,i.j,i.Z,[[8,[ln.a,en.a,tn.a,un.a,on.a,an.a,sn.a,cn.a,rn.a,_n.a,Yn,bl,kl,Sl]],[3,i.j],i.w]),i._19(5120,i.u,i._17,[[3,i.u]]),i._19(4608,Dn.l,Dn.k,[i.u]),i._19(5120,i.b,i._8,[]),i._19(5120,i.s,i._14,[]),i._19(5120,i.t,i._15,[]),i._19(4608,u.c,u.s,[Dn.d]),i._19(6144,i.J,null,[u.c]),i._19(4608,u.f,Cl.a,[]),i._19(5120,u.d,function(n,l,e,t){return[new u.l(n),new u.p(l),new u.o(e,t)]},[Dn.d,Dn.d,Dn.d,u.f]),i._19(4608,u.e,u.e,[u.d,i.y]),i._19(135680,u.n,u.n,[Dn.d]),i._19(4608,u.m,u.m,[u.e,u.n]),i._19(6144,i.H,null,[u.m]),i._19(6144,u.q,null,[u.n]),i._19(4608,i.M,i.M,[i.y]),i._19(4608,u.h,u.h,[Dn.d]),i._19(4608,u.j,u.j,[Dn.d]),i._19(4608,a.h,a.m,[Dn.d,i.C,a.k]),i._19(4608,a.n,a.n,[a.h,a.l]),i._19(5120,a.a,function(n){return[n]},[a.n]),i._19(4608,a.j,a.j,[]),i._19(6144,a.i,null,[a.j]),i._19(4608,a.g,a.g,[a.i]),i._19(6144,a.b,null,[a.g]),i._19(5120,a.f,a.o,[a.b,[2,a.a]]),i._19(4608,a.c,a.c,[a.f]),i._19(4608,sl.k,sl.k,[]),i._19(4608,sl.c,sl.c,[]),i._19(4608,jl.a,jl.a,[In.a,pn.a]),i._19(4608,_l.a,_l.a,[In.a,pn.a]),i._19(4608,Il.a,Il.a,[]),i._19(4608,gn.a,gn.a,[]),i._19(4608,fl.a,fl.a,[On.a]),i._19(4608,Sn.a,Sn.a,[pn.a,On.a,i.y,jn.a]),i._19(4608,Fl.a,Fl.a,[In.a,pn.a]),i._19(5120,Dn.g,xl.c,[Dn.r,[2,Dn.a],pn.a]),i._19(4608,Dn.f,Dn.f,[Dn.g]),i._19(5120,Ml.b,Ml.d,[In.a,Ml.a]),i._19(5120,qn.a,qn.b,[In.a,Ml.b,Dn.f,Tl.b,i.j]),i._19(4608,Pl.a,Pl.a,[In.a,pn.a,qn.a]),i._19(4608,El.a,El.a,[In.a,pn.a]),i._19(4608,Ll.a,Ll.a,[In.a,pn.a,qn.a]),i._19(4608,Ul.a,Ul.a,[pn.a,On.a,jn.a,In.a,Cn.l]),i._19(4608,zl.a,zl.a,[In.a,pn.a]),i._19(4608,Wn.a,Wn.a,[On.a,pn.a]),i._19(4608,d.a,d.a,[]),i._19(4608,b.a,b.a,[]),i._19(4608,g.b,g.b,[]),i._19(4608,W.a,W.a,[]),i._19(4608,c.a,c.a,[]),i._19(4608,r.a,r.a,[]),i._19(4608,_.a,_.a,[]),i._19(512,Dn.c,Dn.c,[]),i._19(512,i.l,Al.a,[]),i._19(256,pn.b,{},[]),i._19(1024,Nl.a,Nl.b,[]),i._19(1024,On.a,On.b,[u.b,Nl.a,i.y]),i._19(1024,pn.a,pn.c,[pn.b,On.a]),i._19(512,jn.a,jn.a,[On.a]),i._19(512,kn.a,kn.a,[]),i._19(512,In.a,In.a,[pn.a,On.a,[2,kn.a]]),i._19(512,Cn.l,Cn.l,[In.a]),i._19(256,Ml.a,{links:[{loadChildren:"../pages/myevents/myevents.module.ngfactory#MyeventsPageModuleNgFactory",name:"MyeventsPage",segment:"myevents",priority:"low",defaultHistory:[]}]},[]),i._19(512,i.h,i.h,[]),i._19(512,Dl.a,Dl.a,[i.h]),i._19(1024,Tl.b,Tl.c,[Dl.a,i.q]),i._19(1024,i.c,function(n,l,e,t,i,o,a,s,c,r,_,d,b,g){return[u.r(n,l),$l.a(e),Il.b(t,i),Ul.b(o,a,s,c,r),Tl.d(_,d,b,g)]},[[2,u.i],[2,i.x],pn.a,On.a,jn.a,pn.a,On.a,jn.a,In.a,Cn.l,pn.a,Ml.a,Tl.b,i.y]),i._19(512,i.d,i.d,[[2,i.c]]),i._19(131584,i._6,i._6,[i.y,i._0,i.q,i.l,i.j,i.d]),i._19(2048,i.f,null,[i._6]),i._19(512,i.e,i.e,[i.f]),i._19(512,u.a,u.a,[[3,u.a]]),i._19(512,a.e,a.e,[]),i._19(512,a.d,a.d,[]),i._19(512,sl.j,sl.j,[]),i._19(512,sl.d,sl.d,[]),i._19(512,sl.i,sl.i,[]),i._19(512,xl.a,xl.a,[]),i._19(512,xl.b,xl.b,[]),i._19(512,X.a,X.a,[]),i._19(512,Z,Z,[]),i._19(256,a.k,"XSRF-TOKEN",[]),i._19(256,a.l,"X-XSRF-TOKEN",[]),i._19(256,Tl.a,L.a,[]),i._19(256,nn.a,U,[]),i._19(256,Dn.a,"/",[])])});Object(i.T)(),Object(u.k)().bootstrapModuleFactory(Rl)},30:function(n,l,e){"use strict";e.d(l,"b",function(){return c});var t=e(2),u=e(1),i=e(143),o=(e.n(i),e(0)),a=(e.n(o),e(212)),s=e(271),c=(e.n(s),function(){function n(){this.identifiedState=!1,this.connectedState=!1,this.explicitClosed=!0,this.reconnectInterval=3e4,this.reconnectAttempts=480,this.lstKeepAliveReceived=0,this.connected=new i.BehaviorSubject(!1),this.identified=new i.BehaviorSubject(!1),this.ticketCreated=new s.ReplaySubject(10),this.ticketActivated=new s.ReplaySubject(10),this.ticketCalled=new s.ReplaySubject(10),this.ticketAccepted=new s.ReplaySubject(10),this.ticketSkipped=new s.ReplaySubject(10),this.ticketExpired=new s.ReplaySubject(10),this.ticketDeleted=new s.ReplaySubject(10),this.ticketSummaries=new s.ReplaySubject,this.eventTicketSummaries=new s.ReplaySubject,this.logMessages=new i.BehaviorSubject(""),this.lastMessages=[]}return Object.defineProperty(n.prototype,"stopped",{get:function(){return this.explicitClosed},enumerable:!0,configurable:!0}),n.prototype.startKeepAliveObservation=function(){var n=this;this.keepAliveObserverTimerToken=setTimeout(function(){var l=(new Date).getTime()-n.lstKeepAliveReceived;!n.explicitClosed&&!n.reconnectionObservable&&l>n.reconnectInterval?(n.logMessages.next("connection verified since "+l+"ms. It seems to be dead and need to be reconnected!"),n.disconnectWS(!1),n.reconnect()):n.logMessages.next("connection verified since "+l+"ms"),n.startKeepAliveObservation()},this.reconnectInterval)},n.prototype.login=function(n){this.identifiedState||(this.lastMessages=[],this.setUsername(n),this.sendMessage(JSON.stringify({type:"HelloImOnline",username:n,deviceId:this.deviceId})))},n.prototype.subscribeEvent=function(n,l){this.identifiedState&&this.sendMessage(JSON.stringify({type:"Subscribe",channel:parseInt(n),count:parseInt(l)}))},n.prototype.confirm=function(n){this.sendMessage(JSON.stringify({type:"TicketConfirmed",ticket:n}))},n.prototype.skip=function(n){this.sendMessage(JSON.stringify({type:"TicketSkipped",ticket:n}))},n.prototype.unsubscribeEvent=function(n){this.identifiedState&&this.sendMessage(JSON.stringify({type:"UnSubscribe",channel:parseInt(n)}))},n.prototype.sendMessage=function(n){this.websocket?this.connectedState&&this.websocket.send(n):this.connect(n)},n.prototype.disconnectWS=function(n){void 0===n&&(n=!0),this.explicitClosed=n,this.websocket?(this.websocket.close(),n&&this.close()):this.close()},n.prototype.close=function(){this.websocket=void 0,this.identifiedState=!1,this.identified.next(this.identifiedState),this.connectedState=!1,this.connected.next(this.connectedState)},n.prototype.isWebsocketConnected=function(){return this.websocket&&this.websocket.readyState===this.websocket.OPEN},n.prototype.isWebsocketConnecting=function(){return this.websocket&&this.websocket.readyState===this.websocket.CONNECTING},n.prototype.shouldConnectAgain=function(){return!(this.isWebsocketConnected()||this.isWebsocketConnecting())},n.prototype.reconnect=function(){var n=this;if(!this.reconnectionObservable){this.logMessages.next("start try reconnection ..."),this.reconnectionObservable=o.Observable.interval(this.reconnectInterval).takeWhile(function(l,e){return e<n.reconnectAttempts&&!n.explicitClosed});var l=this.reconnectionObservable.subscribe(function(){n.shouldConnectAgain()&&(n.logMessages.next("continue with reconnection ..."),n.connect(void 0,!0))},null,function(){n.reconnectionObservable=null,l.unsubscribe(),n.isWebsocketConnected()?n.logMessages.next("finish with reconnection (successfull)"):n.isWebsocketConnecting()?n.logMessages.next("continue with reconnection (CONNECTING)"):(!n.websocket||n.websocket.CLOSING||n.websocket.CLOSED)&&(n.disconnectWS(),n.logMessages.next("finish with reconnection (unsuccessfull)"))})}},n.prototype.init=function(){var n=this;this.logMessages.subscribe(function(l){n.lastMessages.push(Object(a.a)(!0)+" - "+l),n.lastMessages=n.lastMessages.slice(Math.max(n.lastMessages.length-50,0))}),this.logMessages.next("init");var l=location.host,e=location.pathname,t="https:"===location.protocol?"wss:":"ws:";this.backendUrl=l&&""!==l?l.startsWith("localhost")?"ws://localhost:8080/api/ticketTrigger":t+"//"+l+e+"api/ticketTrigger":"wss://38qniweusmuwjkbr.myfritz.net/mbq/api/ticketTrigger",this.logMessages.next("init with "+this.backendUrl),this.getDeviceId(),this.connect(void 0,!!this.getUsername()&&!!this.getDeviceId()),this.startKeepAliveObservation()},n.prototype.connect=function(n,l){var e=this;void 0===l&&(l=!1),this.explicitClosed=!1,this.websocket=new WebSocket(this.backendUrl),this.websocket.onopen=function(){e.connectedState=!0,e.connected.next(e.connectedState);var t=e.getUsername();l&&e.deviceId&&""!==e.deviceId&&!e.identifiedState&&t&&""!==t&&e.login(e.getUsername()),n&&e.sendMessage(n)},this.websocket.onclose=function(n){switch(e.close(),n.code){case 1001:e.logMessages.next("Going Away");break;case 1002:e.logMessages.next("Protocol error"),e.explicitClosed||e.reconnect();break;case 1003:e.logMessages.next("Unsupported Data"),e.explicitClosed||e.reconnect();break;case 1005:e.logMessages.next("No Status Rcvd"),e.explicitClosed||e.reconnect();break;case 1006:e.logMessages.next("Abnormal Closure"),e.explicitClosed||e.reconnect();break;case 1007:e.logMessages.next("Invalid frame payload data"),e.explicitClosed||e.reconnect();break;case 1008:e.logMessages.next("Policy Violation"),e.explicitClosed||e.reconnect();break;case 1009:e.logMessages.next("Message Too Big"),e.explicitClosed||e.reconnect();break;case 1010:e.logMessages.next("Mandatory Ext."),e.explicitClosed||e.reconnect();break;case 1011:e.logMessages.next("Internal Server Error"),e.explicitClosed||e.reconnect();break;case 1015:e.logMessages.next("TLS handshake")}};var t=function(n){e.sendMessage(JSON.stringify({type:"MessageAck",msg:n.data}))};this.websocket.onmessage=function(n){if(e.lstKeepAliveReceived=(new Date).getTime(),!n.data.startsWith("Connection established."))if("keepAlive"!==n.data){if(e.connectedState&&n.data.startsWith("deviceId="))return e.setDeviceId(n.data.split("=")[1]),void t(n);try{var l=JSON.parse(n.data);switch(l.type){case"TicketIssued":e.ticketCreated.next(l);break;case"TicketReactivated":e.ticketActivated.next(l);break;case"TicketCalled":e.ticketCalled.next(l);break;case"TicketAccepted":e.ticketAccepted.next(l);break;case"TicketSkipped":e.ticketSkipped.next(l);break;case"TicketExpired":e.ticketExpired.next(l);break;case"TicketClosed":e.ticketDeleted.next(l);case"UserTicketsSummary":e.ticketSummaries.next(l);break;case"EventTicketsSummary":e.eventTicketSummaries.next(l);default:e.logMessages.next("unknown message: "+n.data)}}catch(l){e.logMessages.next(l+": "+n.data)}}else t(n)},this.websocket.onerror=function(n){e.close()}},n.prototype.setUsername=function(n){this.username=n,"undefined"!=typeof Storage&&(localStorage.username=n)},n.prototype.getUsername=function(){return"undefined"!=typeof Storage&&(this.username=localStorage.username),this.username||(this.username=""),this.username},n.prototype.setDeviceId=function(n){n&&(this.identifiedState=!0,this.identified.next(this.identifiedState),this.deviceId&&""!==this.deviceId&&"undefined"!==this.deviceId||(this.deviceId=n),"undefined"!=typeof Storage&&(localStorage.deviceId=n))},n.prototype.getDeviceId=function(){return"undefined"!=typeof Storage&&(this.deviceId=localStorage.deviceId),this.deviceId||(this.deviceId=""),this.deviceId},n}());c=Object(t.__decorate)([Object(u.o)(),Object(t.__metadata)("design:paramtypes",[])],c)},89:function(n,l,e){"use strict";e.d(l,"a",function(){return g});var t=e(2),u=e(1),i=e(44),o=e(63),a=e(30),s=location.host,c=location.pathname,r=location.protocol,_=r+"//"+s+c+"api/events",d="https://38qniweusmuwjkbr.myfritz.net/mbq/api/events",b=r+"//"+s+c+"api/users",g=function(){function n(n,l,e,t){this.navCtrl=n,this.navParams=l,this.http=e,this.ws=t,this.myevents=[],this.usernames={}}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad MyeventsPage")},n.prototype.ngOnInit=function(){var n=this;this.ws.eventTicketSummaries.subscribe(function(l){l.invites.filter(function(l){return void 0===n.usernames[l.userid]}).forEach(function(l){n.http.get("https://38qniweusmuwjkbr.myfritz.net/mbq/api/users/"+l.userid).subscribe(function(e){n.usernames[l.userid]=e.name},function(e){return n.http.get(b+"/"+l.userid).subscribe(function(e){n.usernames[l.userid]=e.name})})}),n.myevents=n.myevents.filter(function(n){return n.event.id!==l.event.id}).concat([l]).sort(function(n,l){return n.event.eventTitle.localeCompare(l.event.eventTitle)})})},n.prototype.getUserName=function(n){return this.usernames[n]||n},n.prototype.createEvent=function(n){var l=this;this.http.post(d,JSON.stringify(n)).subscribe(function(n){},function(n){return l.http.get(_).subscribe(function(n){})})},n.prototype.invite=function(n){var l=this;console.log(n),this.http.get(d+"/"+n.event.id+"/"+n.event.groupsize).subscribe(function(n){},function(e){return l.http.get(_+"/"+n.event.id+"/"+n.event.groupsize).subscribe(function(n){})})},n}();g=Object(t.__decorate)([Object(u.i)({selector:"page-myevents",templateUrl:"myevents.html"}),Object(t.__metadata)("design:paramtypes",["function"==typeof(p=void 0!==i.g&&i.g)&&p||Object,"function"==typeof(f=void 0!==i.h&&i.h)&&f||Object,"function"==typeof(h=void 0!==o.c&&o.c)&&h||Object,"function"==typeof(m=void 0!==a.b&&a.b)&&m||Object])],g);var p,f,h,m}},[266]);